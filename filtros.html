<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Filtro Vehículos - OEM & FMSI</title>
<style>
  * { box-sizing: border-box; }
  html,body { height:100%; }
  body {
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
    margin:0; padding:18px;
    background: linear-gradient(135deg,#f0f0f0,#d9d9d9);
    color:#000;
    transition: background .35s ease, color .35s ease;
    display:flex; flex-direction:column; gap:16px;
  }
  body.dark {
    background: linear-gradient(135deg,#121212,#0f1724);
    color:#fff;
  }

  /* --- Glass card for filters --- */
  .glass{
    max-width:720px;
    margin:0 auto;
    padding:16px;
    border-radius:14px;
    background: rgba(255,255,255,0.14);
    backdrop-filter: blur(12px);
    border:1px solid rgba(255,255,255,0.18);
    display:flex;
    flex-direction:column;
    gap:12px;
    position:relative;
  }
  body.dark .glass{ background: rgba(0,0,0,0.22); border-color: rgba(255,255,255,0.06); }

  .filter-title{ font-weight:600; font-size:1rem; margin-bottom:6px; }
  body.dark .filter-title{ color: #fff; }

  .form-input{
    width:100%;
    padding:9px 12px;
    border-radius:12px;
    border:1px solid rgba(0,0,0,0.12);
    background: rgba(255,255,255,0.25);
    color:inherit;
    font-size:0.92rem;
    transition: all .28s ease, box-shadow .28s ease;
  }
  .form-input::placeholder{ color: rgba(0,0,0,0.45); }
  .form-input:focus{
    outline:none;
    border-color:#2563eb;
    box-shadow:0 0 10px rgba(37,99,235,0.14);
    background: rgba(255,255,255,0.32);
  }
  body.dark .form-input{ background: rgba(0,0,0,0.26); border-color: rgba(255,255,255,0.06); }
  body.dark .form-input::placeholder{ color: rgba(255,255,255,0.45); }

  /* Position buttons */
  .position-container{ display:flex; gap:10px; flex-wrap:wrap; }
  .position-btn{
    flex:1; min-width:140px;
    padding:10px 12px; border-radius:12px;
    border:1px solid rgba(0,0,0,0.12);
    background: rgba(255,255,255,0.24);
    text-align:center; cursor:pointer; transition: all .28s ease, transform .18s ease;
    user-select:none; font-weight:600;
  }
  .position-btn:active{ transform: translateY(1px); }
  #positionDelantera.active{
    background:#9ec9fb; border-color:#3b82f6; color:#052a5f; transform:translateY(-2px); box-shadow:0 6px 18px rgba(59,130,246,0.10);
  }
  #positionTras.active{
    background:#f9b3b3; border-color:#ef4444; color:#5a1414; transform:translateY(-2px); box-shadow:0 6px 18px rgba(239,68,68,0.10);
  }
  body.dark .position-btn{ background: rgba(0,0,0,0.26); color: #fff; border-color: rgba(255,255,255,0.06); }
  body.dark #positionDelantera.active{ box-shadow:0 6px 18px rgba(99,179,237,0.06); }
  body.dark #positionTras.active{ box-shadow:0 6px 18px rgba(255,128,128,0.05); }

  /* Autocomplete list */
  .autocomplete-list{
    position:relative;
    width:100%;
    margin-top:8px;
    border-radius:10px;
    background: rgba(255,255,255,0.12);
    backdrop-filter: blur(10px);
    border:1px solid rgba(255,255,255,0.14);
    max-height:140px; overflow-y:auto; z-index:40; display:none;
  }
  body.dark .autocomplete-list{ background: rgba(0,0,0,0.20); border-color: rgba(255,255,255,0.06); }
  .autocomplete-item{ padding:8px 10px; cursor:pointer; font-size:0.92rem; transition: background .12s ease; }
  .autocomplete-item:hover{ background: rgba(37,99,235,0.08); }
  body.dark .autocomplete-item:hover{ background: rgba(37,99,235,0.14); }

  /* Results */
  .results-wrapper{
    max-width:1100px; margin:0 auto;
    display:grid;
    grid-template-columns: repeat(auto-fit,minmax(300px,1fr));
    gap:12px;
  }
  .result-card{
    padding:12px; border-radius:12px;
    background: rgba(255,255,255,0.16);
    backdrop-filter: blur(8px);
    border:1px solid rgba(255,255,255,0.18);
    transition: transform .2s ease, box-shadow .2s ease;
    position:relative;
  }
  body.dark .result-card{ background: rgba(0,0,0,0.26); border-color: rgba(255,255,255,0.06); }
  .result-card:hover{ transform: translateY(-4px); box-shadow: 0 12px 28px rgba(0,0,0,0.14); }
  body.dark .result-card:hover{ box-shadow: 0 12px 28px rgba(255,255,255,0.04); }

  .result-field{ margin-bottom:6px; font-size:0.92rem; }
  .position-badge{ display:inline-block; padding:6px 8px; border-radius:8px; font-weight:700; margin-right:8px; font-size:0.78rem; }
  .position-delantera{ background:#dbeafe; color:#1d4ed8; }
  .position-trasera{ background:#fef2f2; color:#b91c1c; }
  body.dark .position-delantera{ background:#0a2463; color:#63b3ed; }
  body.dark .position-trasera{ background:#5a0a0a; color:#fca5a5; }

  .favorite-btn{ position:absolute; right:12px; top:12px; width:20px; height:20px; cursor:pointer; opacity:.9; transition: transform .12s ease; }
  .favorite-btn:hover{ transform: scale(1.12); }

  .toggle-dark{ position:fixed; right:14px; top:14px; background:#2563eb;color:#fff;border:none;padding:8px 12px;border-radius:10px;cursor:pointer;font-weight:700; }
  .count-info{ text-align:center; color:#374151; margin-top:10px; font-size:0.9rem; }
  body.dark .count-info{ color:#cbd5e1; }

  @media (max-width:720px){
    body{ padding:12px; }
    .glass{ padding:12px; }
  }

  /* --- PAPELERA ANIMADA --- */
  .trash-container {
    display: flex;
    justify-content: center;
    align-items: center;
    width: 64px;
    height: 64px;
    position: relative;
    cursor: pointer;
    margin-top:12px;
    align-self:flex-end;
  }

  .lp-fbtn {
    width: 64px;
    height: 64px;
    border: none;
    border-radius: 50%;
    cursor: pointer;
    background: rgba(255,255,255,0.15);
    backdrop-filter: blur(20px) saturate(250%) brightness(1.3);
    box-shadow: 0 12px 30px rgba(0,0,0,.25), inset 0 0 6px rgba(255,255,255,0.1);
    display: flex;
    justify-content: center;
    align-items: center;
    overflow: hidden;
    transition: transform .25s, box-shadow .25s, background .35s;
    position: relative;
  }

  .lp-fbtn::before {
    content: '';
    position: absolute;
    top:0; left:0;
    width:100%; height:100%;
    border-radius:50%;
    pointer-events:none;
    background: radial-gradient(circle at var(--mx,50%) var(--my,50%), rgba(255,255,255,0.25), transparent 70%);
    mix-blend-mode: screen;
    filter: blur(6px);
    animation: glowMove 3s ease-in-out infinite;
  }
  @keyframes glowMove {
    0%,100% { transform: scale(1) translate(0,0); }
    50% { transform: scale(1.1) translate(3px,3px); }
  }

  .lp-fbtn:hover { animation: lp-bounce .4s; }
  @keyframes lp-bounce {
    0%,100% { transform: translateY(0); }
    50% { transform: translateY(-8px); }
  }
  .lp-fbtn:active { animation: lp-shake .3s; }
  @keyframes lp-shake {
    0% { transform: translateX(0); }
    20% { transform: translateX(-2px); }
    40% { transform: translateX(2px); }
    60% { transform: translateX(-2px); }
    80% { transform: translateX(2px); }
    100% { transform: translateX(0); }
  }

  @keyframes lidOpen {
    0% { transform: rotate(0deg) translateY(0); }
    50% { transform: rotate(-25deg) translateY(-2px); }
    70% { transform: rotate(-18deg) translateY(-1px); }
    100% { transform: rotate(0deg) translateY(0); }
  }
</style>
</head>
<body>

<button class="toggle-dark" onclick="document.body.classList.toggle('dark')">Modo oscuro</button>

<div class="glass">
  <div class="filter-title">Marca</div>
  <input type="text" class="form-input" id="marca" placeholder="Ej: Toyota">

  <div class="filter-title">Modelo</div>
  <input type="text" class="form-input" id="modelo" placeholder="Ej: Corolla">

  <div class="filter-title">Año</div>
  <input type="text" class="form-input" id="anio" placeholder="Ej: 2022">

  <div class="filter-title">Posición</div>
  <div class="position-container">
    <div id="positionDelantera" class="position-btn">Delantera</div>
    <div id="positionTras" class="position-btn">Trasera</div>
  </div>

  <!-- PAPELERA ANIMADA -->
  <div class="trash-container">
    <button id="trashBtn" class="lp-fbtn" title="Limpiar filtros">
      <svg viewBox="0 0 64 64" width="32" height="32">
        <defs>
          <linearGradient id="grad1" x1="0" y1="0" x2="0" y2="1">
            <stop offset="0%" stop-color="#777"/>
            <stop offset="100%" stop-color="#444"/>
          </linearGradient>
        </defs>
        <rect x="20" y="22" width="24" height="28" rx="4" ry="4" fill="url(#grad1)" stroke="#222" stroke-width="1"/>
        <rect id="lid" x="18" y="18" width="28" height="5" rx="3" ry="3" fill="#555"/>
        <rect x="18" y="18" width="28" height="2" rx="3" ry="3" fill="rgba(255,255,255,0.2)"/>
        <line x1="26" y1="26" x2="26" y2="46" stroke="#333" stroke-width="2"/>
        <line x1="32" y1="26" x2="32" y2="46" stroke="#333" stroke-width="2"/>
        <line x1="38" y1="26" x2="38" y2="46" stroke="#333" stroke-width="2"/>
      </svg>
    </button>
  </div>
</div>

<div class="results-wrapper" id="results">
  <!-- Resultados se renderizan aquí -->
</div>

<div class="count-info" id="countInfo">Resultados: 0</div>

<script>
  // Elementos
  const els = {
    marca: document.getElementById('marca'),
    modelo: document.getElementById('modelo'),
    anio: document.getElementById('anio'),
    posDel: document.getElementById('positionDelantera'),
    posTras: document.getElementById('positionTras'),
    results: document.getElementById('results')
  };

  const lid = document.getElementById('lid');
  const trashBtn = document.getElementById('trashBtn');

  // Toggle posiciones
  els.posDel.addEventListener('click',()=>els.posDel.classList.toggle('active'));
  els.posTras.addEventListener('click',()=>els.posTras.classList.toggle('active'));

  // Movimiento luz papelera
  trashBtn.addEventListener('mousemove', e => {
    const r = trashBtn.getBoundingClientRect();
    trashBtn.style.setProperty('--mx', `${e.clientX - r.left}px`);
    trashBtn.style.setProperty('--my', `${e.clientY - r.top}px`);
  });

  // Limpiar filtros
  trashBtn.addEventListener('click', ()=>{
    lid.style.animation = 'lidOpen 0.35s ease';
    lid.addEventListener('animationend',()=>lid.style.animation='',{once:true});
    els.marca.value=''; els.modelo.value=''; els.anio.value='';
    els.posDel.classList.remove('active'); els.posTras.classList.remove('active');
    filterAndRender();
  });

  // Función de ejemplo para renderizar resultados
  const data = [
    {marca:'Toyota', modelo:'Corolla', anio:'2022', posicion:'Delantera'},
    {marca:'Honda', modelo:'Civic', anio:'2021', posicion:'Trasera'},
  ];

  function filterAndRender(){
    const marcaF=els.marca.value.toLowerCase();
    const modeloF=els.modelo.value.toLowerCase();
    const anioF=els.anio.value;
    const posF=[];
    if(els.posDel.classList.contains('active')) posF.push('Delantera');
    if(els.posTras.classList.contains('active')) posF.push('Trasera');

    const filtered = data.filter(d=>{
      const matchMarca = !marcaF || d.marca.toLowerCase().includes(marcaF);
      const matchModelo = !modeloF || d.modelo.toLowerCase().includes(modeloF);
      const matchAnio = !anioF || d.anio.includes(anioF);
      const matchPos = posF.length===0 || posF.includes(d.posicion);
      return matchMarca && matchModelo && matchAnio && matchPos;
    });

    els.results.innerHTML='';
    filtered.forEach(d=>{
      const div = document.createElement('div'); div.className='result-card';
      div.innerHTML=`<div class="result-field"><strong>Marca:</strong> ${d.marca}</div>
        <div class="result-field"><strong>Modelo:</strong> ${d.modelo}</div>
        <div class="result-field"><strong>Año:</strong> ${d.anio}</div>
        <div class="position-badge ${d.posicion==='Delantera'?'position-delantera':'position-trasera'}">${d.posicion}</div>`;
      els.results.appendChild(div);
    });
    document.getElementById('countInfo').innerText='Resultados: '+filtered.length;
  }

  // Filtrar al cambiar
  [els.marca,els.modelo,els.anio].forEach(inp=>inp.addEventListener('input',filterAndRender));
  filterAndRender();
</script>

</body>
</html>